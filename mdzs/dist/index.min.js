"use strict";function _toConsumableArray(i){if(Array.isArray(i)){for(var t=0,o=Array(i.length);t<i.length;t++)o[t]=i[t];return o}return Array.from(i)}function getViewPortWidth(){return document.documentElement.clientWidth||document.body.clientWidth}function getViewPortHeight(){return document.documentElement.clientHeight||document.body.clientHeight}function getScrollLeft(){return document.documentElement.scrollLeft||document.body.scrollLeft}function getScrollTop(){return document.documentElement.scrollTop||document.body.scrollTop}Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(i){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),o=t.length>>>0,e=arguments[1]>>0,n=e<0?Math.max(o+e,0):Math.min(e,o),s=arguments[2],r=void 0===s?o:s>>0,a=r<0?Math.max(o+r,0):Math.min(r,o);n<a;)t[n]=i,n++;return t}}),{init:function(){this.initMasonry(),this.initRightFixedPosition(),this.initGoToTop(),this.initVideo(),this.initScrollBar(),this.initMoveByMouse(),this.initRightFixedNav()},initMasonry:function(){var i=Array(41).fill(0).map(function(i,t){return"./img/masonry/horizontal/h"+(t+1)+".jpg"}),t=Array(9).fill(0).map(function(i,t){return"./img/masonry/vertical/v"+(t+1)+".jpg"}),o=[].concat(_toConsumableArray(i),_toConsumableArray(t)).map(function(i,t){var o=void 0;return-1!==i.indexOf("horizontal")?o="horizontal":-1!==i.indexOf("vertical")&&(o="vertical"),'\n                    <div class="js-masonry-item item" url="'+i+'">\n                        <div class="item__content '+o+'" style="background:url('+i+') no-repeat top center;background-size:cover">\n                            <div class="zoom-in"></div>\n                        </div>\n                    </div>\n                '}).join("");$(".js-masonry").html(o),$(".js-masonry-item").off("click").on("click",function(){var i,t,o,e,n,s,r,a;(i={mask:!0,content:'\n                        <img src="'+$(this).attr("url")+'">\n                    '},t=i.content,o=void 0===t?"":t,e=i.mask,n=void 0!==e&&e,s=i.fixed,r=void 0!==s&&s,a=$('\n            <div class="ui-dialog">\n                <div class="ui-dialog-close">x</div>\n                '+(o||"")+"\n            </div>\n        "),r?a.css({top:"50%",position:"fixed"}):a.css({top:getScrollTop()+getViewPortHeight()/2}),{show:function(){n&&$("body").append('<div class="mask"></div>'),$("body").append(a),$(".ui-dialog-close").off("click").on("click",function(){$(".mask").hide().remove(),a.hide().remove()})}}).show()})},initRightFixedPosition:function(){var i=$(".js-head-wrapper")[0].offsetWidth,t=(window.screen.width-i)/2-$(".js-right-fixed")[0].offsetWidth-10;t=t<0?0:t,$(".js-right-fixed").css({right:t})},initScrollBar:function(){var i=document.querySelector(".js-img-box"),t=i.scrollHeight,o=i.offsetHeight,e=document.querySelector(".js-scroll-wrapper").offsetHeight,n=document.querySelector(".js-scroll-bar").offsetHeight;i.addEventListener("scroll",function(){$(".js-scroll-bar").css({top:this.scrollTop/(t-o)*(e-n)})})},initGoToTop:function(){$(window).scroll(function(){300<$(window).scrollTop()?$(".js-to-top").addClass("show"):$(".js-to-top").removeClass("show")})},initRightFixedNav:function(){$(window).scroll(function(){var i=$(window).scrollTop();360<i&&i<=720?($(".js-fixed-video").addClass("active"),$(".js-fixed-masonry").removeClass("active"),$(".js-fixed-introduction").removeClass("active")):720<i&&i<=1600?($(".js-fixed-masonry").addClass("active"),$(".js-fixed-video").removeClass("active"),$(".js-fixed-introduction").removeClass("active")):1600<i&&($(".js-fixed-introduction").addClass("active"),$(".js-fixed-masonry").removeClass("active"),$(".js-fixed-video").removeClass("active"))})},initVideo:function(){$(".js-video-btn").off("click").on("click",function(){$(".js-video-bro").addClass("hide"),$(".js-video").removeClass("hide"),$(".js-video")[0].play()}),$(".js-video")[0].addEventListener("ended",function(){$(this).addClass("hide"),$(".js-video-bro").removeClass("hide")},!1)},initMoveByMouse:function(){$(".js-content-1").mousemove(function(i){var t=$(this)[0].offsetWidth,o=$(this)[0].offsetHeight,e=i.offsetX,n=i.offsetY,s=$(".js-main-fire")[0].offsetWidth,r=$(".js-main-fire")[0].offsetHeight,a=$(".js-main-title")[0].offsetWidth,c=$(".js-main-title")[0].offsetHeight;$(".js-main-fire").css({transform:"translate("+(-s/2-50*(e-t/2)/t)+"px, "+(-r/2-50*(n-o/2)/o)+"px)"}),$(".js-main-title").css({transform:"translate("+(-a/2+100*(e-t/2)/t)+"px, "+(-c/2+100*(n-o/2)/o)+"px)"})}).mouseleave(function(){$(".js-main-fire").css({transform:"translate(-50%, -50%)"}),$(".js-main-title").css({transform:"translate(-50%, -50%)"})})}}.init();